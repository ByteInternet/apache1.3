--- build-tree-apache/apache_1.3.41/src/modules/standard/mod_status.c	(revision 559141)
+++ build-tree-apache/apache_1.3.41/src/modules/standard/mod_status.c	(revision 559142)
@@ -221,7 +221,7 @@
     if (r->method_number != M_GET)
 	return DECLINED;
 
-    r->content_type = "text/html";
+    r->content_type = "text/html; charset=ISO-8859-1";
 
     /*
      * Simple table-driven form data set parser that lets you alter the header
@@ -247,7 +247,7 @@
 		    no_table_report = 1;
 		    break;
 		case STAT_OPT_AUTO:
-		    r->content_type = "text/plain";
+		    r->content_type = "text/plain; charset=ISO-8859-1";
 		    short_report = 1;
 		    break;
 		}
@@ -570,7 +570,8 @@
 			ap_rputs(")\n", r);
 			ap_rprintf(r, " <i>%s {%s}</i> <b>[%s]</b><br>\n\n",
 			    ap_escape_html(r->pool, score_record.client),
-			    ap_escape_html(r->pool, score_record.request),
+			    ap_escape_html(r->pool,
+					    ap_escape_logitem(r->pool, score_record.request)),
 			    vhost ? ap_escape_html(r->pool, 
 				vhost->server_hostname) : "(unavailable)");
 		    }
@@ -657,7 +658,8 @@
 			     ap_escape_html(r->pool, score_record.client),
 			     vhost ? ap_escape_html(r->pool, 
 				vhost->server_hostname) : "(unavailable)",
-			     ap_escape_html(r->pool, score_record.request));
+			     ap_escape_html(r->pool,
+					     ap_escape_logitem(r->pool, score_record.request)));
 		    }		/* no_table_report */
 		}			/* !short_report */
 	    }			/* if (<active child>) */
--- build-tree-apache/pkg.eapi/eapi.patch.orig	2007-12-27 11:53:45.000000000 +0100
+++ build-tree-apache/pkg.eapi/eapi.patch	2007-12-27 11:56:08.000000000 +0100
@@ -1598,7 +1598,7 @@
 Index: src/modules/standard/mod_status.c
 --- src/modules/standard/mod_status.c	11 May 2004 18:28:20 -0000	1.1.1.16
 +++ src/modules/standard/mod_status.c	11 May 2004 18:32:16 -0000	1.13
-@@ -651,12 +677,23 @@
+@@ -651,13 +677,25 @@
  			    ap_rprintf(r,
  			     "<td>?<td nowrap>?<td nowrap>..reading.. </tr>\n\n");
  			else
@@ -1610,14 +1610,16 @@
 +			     "</tr>\n\n",
 +			     score_record.client,
 +			     vhost ? vhost->server_hostname : "(unavailable)",
-+			     ap_escape_html(r->pool, score_record.request));
++			     ap_escape_html(r->pool,
++					     ap_escape_logitem(r->pool, score_record.request)));
 +#else
  			    ap_rprintf(r,
  			     "<td>%s<td nowrap>%s<td nowrap>%s</tr>\n\n",
  			     ap_escape_html(r->pool, score_record.client),
  			     vhost ? ap_escape_html(r->pool, 
  				vhost->server_hostname) : "(unavailable)",
- 			     ap_escape_html(r->pool, score_record.request));
+ 			     ap_escape_html(r->pool,
+ 					     ap_escape_logitem(r->pool, score_record.request)));
 +#endif
  		    }		/* no_table_report */
  		}			/* !short_report */
